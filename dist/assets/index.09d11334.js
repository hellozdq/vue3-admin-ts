import{_ as a}from"./index.5b4b7a19.js";import{d as e,q as l,n as t,p as o,b as n,r as s,z as r,o as i,e as m,f as d,F as u,l as p,A as c,k as b,t as g,w as f}from"./vendor.f3ea224c.js";var h=e({name:"DATABASE",components:{Pagination:a},setup(){const a=l([]),e=t({tableName:"",pageNum:1,pageSize:10});let o=l(0);const n=l(!1),s=()=>{n.value=!0,new Promise((a=>{a({data:[]})})).then((e=>{n.value=!1;const l=e.data;a.value=l.list,o.value=l.total})).catch((a=>{n.value=!1}))};s();let r=l([]);return new Promise((a=>{a({data:[]})})).then((a=>{r.value=a.data})),{options:r,tableData:a,searchForm:e,loading:n,total:o,getPage:a=>{e.pageNum=a.page,e.pageSize=a.limit,s()},onSearch:s}}});const v=f();o("data-v-2b76a546");const _={class:"database"},F=b("查询");n();const N=v(((a,e,l,t,o,n)=>{const f=s("el-option"),h=s("el-select"),N=s("el-form-item"),w=s("el-button"),P=s("el-form"),y=s("el-table-column"),S=s("el-table"),z=s("Pagination"),k=r("loading");return i(),m("div",_,[d(P,{inline:!0,model:a.searchForm,size:"small",class:"headerForm"},{default:v((()=>[d(N,null,{default:v((()=>[d(h,{modelValue:a.searchForm.tableName,"onUpdate:modelValue":e[1]||(e[1]=e=>a.searchForm.tableName=e),placeholder:"请选择"},{default:v((()=>[d(f,{value:"",label:"全部表"}),(i(!0),m(u,null,p(a.options,(a=>(i(),m(f,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),d(N,null,{default:v((()=>[d(w,{type:"primary",onClick:a.onSearch},{default:v((()=>[F])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),c(d(S,{data:a.tableData,border:"","max-height":"380px",style:{width:"100%",height:"110%"}},{default:v((()=>[d(y,{label:"表名"},{default:v((({row:a})=>[b(g(a.tableName+"("+a.tableComment+")"),1)])),_:1}),d(y,{label:"字段名"},{default:v((({row:a})=>[b(g(a.fieldName+"("+a.fieldComment+")"),1)])),_:1}),d(y,{prop:"fieldType",label:"字段类型"}),d(y,{label:"不为null"},{default:v((({row:a})=>[b(g(0===a.notNull?"否":"是"),1)])),_:1}),d(y,{prop:"isKey",label:"是否主键"},{default:v((({row:a})=>[b(g(0===a.isKey?"否":"是"),1)])),_:1})])),_:1},8,["data"]),[[k,a.loading]]),d(z,{limit:a.searchForm.pageSize,"onUpdate:limit":e[2]||(e[2]=e=>a.searchForm.pageSize=e),page:a.searchForm.pageNum,"onUpdate:page":e[3]||(e[3]=e=>a.searchForm.pageNum=e),total:a.total,onPagination:a.getPage},null,8,["limit","page","total","onPagination"])])}));h.render=N,h.__scopeId="data-v-2b76a546";export default h;
