var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,l=(e,t)=>{for(var o in t||(t={}))A.call(t,o)&&s(e,o,t[o]);if(a)for(var o of a(t))n.call(t,o)&&s(e,o,t[o]);return e};import{d as i,u as r,a as c,c as d,p as m,b as u,r as g,o as p,e as h,f as E,T as C,K as f,g as I,w as _,h as v,i as B,j as w,k as x,t as b,F as y,l as P,m as S,n as D,q as T,s as V,v as K,x as Q,y as O,z as R,A as M,B as k,D as L,R as j,C as G,E as H,N as J,G as Y,H as z,_ as F}from"./vendor.f3ea224c.js";const N=i({setup(){const e=r().path,t=c();return{key:e,caches:d((()=>t.state.layout.caches))}}}),W=_();m("data-v-22765ff2");const X={class:"main"};u();const U=W(((e,t,o,a,A,n)=>{const s=g("router-view");return p(),h("section",X,[E(s,null,{default:W((({Component:t})=>[E(C,null,{default:W((()=>[(p(),h(f,{include:e.caches,exclude:["Redirect"]},[(p(),h(I(t)))],1032,["include"]))])),_:2},1024)])),_:1})])}));let Z;N.render=U,N.__scopeId="data-v-22765ff2";const q={},$=function(e,t){if(!t)return e();if(void 0===Z){const e=document.createElement("link").relList;Z=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in q)return;q[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":Z,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))};var ee={path:"/user",component:()=>$((()=>Promise.resolve().then((function(){return Ge}))),void 0),meta:{title:"用户",icon:"el-icon-s-custom",roles:["admin"]},children:[{path:"",component:()=>$((()=>import("./index.08d23c3a.js")),["./assets/index.08d23c3a.js","./assets/index.5b7c5c5d.css","./assets/vendor.f3ea224c.js","./assets/index.f8080c32.js","./assets/index.9818823f.css"]),name:"Roles",meta:{title:"用户列表",icon:"el-icon-s-custom",roles:["admin"]}}]};var te={path:"/about",component:()=>$((()=>Promise.resolve().then((function(){return Ge}))),void 0),meta:{title:"关于",icon:"el-icon-s-cooperation",roles:[10]},children:[{path:"",component:()=>$((()=>import("./index.933f18c4.js")),["./assets/index.933f18c4.js","./assets/index.7430cf44.css","./assets/vendor.f3ea224c.js"]),name:"About",meta:{title:"关于列表",icon:"el-icon-s-cooperation",roles:[101]}}]};var oe={path:"/database",component:()=>$((()=>Promise.resolve().then((function(){return Ge}))),void 0),meta:{title:"数据库",icon:"el-icon-s-cooperation",roles:[10]},children:[{path:"",component:()=>$((()=>import("./index.751a287f.js")),["./assets/index.751a287f.js","./assets/index.f2100324.css","./assets/index.f8080c32.js","./assets/index.9818823f.css","./assets/vendor.f3ea224c.js"]),name:"Database",meta:{title:"数据库列表",icon:"el-icon-s-cooperation",roles:[101]}}]};var ae={path:"/record",component:()=>$((()=>Promise.resolve().then((function(){return Ge}))),void 0),meta:{title:"记录",icon:"el-icon-s-order",roles:[11]},children:[{path:"",component:()=>$((()=>import("./index.f70566c6.js")),["./assets/index.f70566c6.js","./assets/index.e44196d9.css","./assets/vendor.f3ea224c.js"]),name:"Record",meta:{title:"记录列表",icon:"el-icon-s-order",roles:[111]}},{path:"set",component:()=>$((()=>import("./set.d566863a.js")),["./assets/set.d566863a.js","./assets/set.c13c8527.css","./assets/vendor.f3ea224c.js"]),name:"RecordSet",meta:{title:"记录设置",icon:"el-icon-s-order",roles:[112]}}]};const Ae=()=>$((()=>Promise.resolve().then((function(){return Ge}))),void 0);localStorage.setItem("homePath","/home");var ne=v({history:B(),routes:[{path:"/redirect",component:Ae,hidden:!0,meta:{},children:[{path:"/redirect/:path*",name:"Redirect",component:()=>$((()=>import("./index.e0c50c76.js")),["./assets/index.e0c50c76.js","./assets/vendor.f3ea224c.js"]),meta:{noShowTag:!0}}]},{path:"/",component:Ae,redirect:"/home",meta:{hiddenParent:!0},children:[{path:"/home",component:()=>$((()=>import("./index.36088b88.js")),["./assets/index.36088b88.js","./assets/index.d517eb19.css","./assets/vendor.f3ea224c.js"]),name:"Home",meta:{title:"主页",icon:"el-icon-s-home"}}]},{path:"/login",component:()=>$((()=>import("./index.70939480.js")),["./assets/index.70939480.js","./assets/index.c6befbb7.css","./assets/vendor.f3ea224c.js","./assets/JSEncrypt.a6b5a714.js"]),hidden:!0,meta:{noShowTag:!0}},{path:"/:pathMatch(.*)",component:()=>$((()=>import("./404.577b83fb.js")),["./assets/404.577b83fb.js","./assets/404.14d48b69.css","./assets/vendor.f3ea224c.js"]),hidden:!0,meta:{}}]});const se=[ee,oe,te,ae],le={get:e=>{const t=localStorage.getItem(e);if(t){return JSON.parse(t).value}return null},set:(e,t)=>{const o={type:typeof t,value:t};localStorage.setItem(e,JSON.stringify(o))}};var ie=i({name:"SidebarItem",props:{item:{type:Object,default:{}},basePath:{type:String,default:""}},setup:e=>({pathResolve:t=>{return o=e.basePath,/^\/.*$/.test(a=t)?a:o+(a?"/"+a:"");var o,a}})});ie.render=function(e,t,o,a,A,n){const s=g("el-menu-item"),l=g("sidebar-item",!0),i=g("el-submenu");return e.item.hidden?S("",!0):(p(),h(y,{key:0},[e.item.children?1==e.item.children.length&&e.item.meta&&e.item.meta.hiddenParent?(p(),h(s,{key:1,index:e.pathResolve(e.item.children[0].path)},{title:w((()=>[x(b(e.item.children[0].meta&&e.item.children[0].meta.title),1)])),default:w((()=>[E("i",{class:e.item.children[0].meta&&e.item.children[0].meta.icon},null,2)])),_:1},8,["index"])):(p(),h(i,{key:2,index:e.basePath},{title:w((()=>[E("i",{class:e.item.meta&&e.item.meta.icon},null,2),E("span",null,b(e.item.meta&&e.item.meta.title),1)])),default:w((()=>[(p(!0),h(y,null,P(e.item.children,(t=>(p(),h(l,{key:e.pathResolve(t.path),"is-nest":!0,item:t,"base-path":e.pathResolve(t.path),class:"nest-menu"},null,8,["item","base-path"])))),128))])),_:1},8,["index"])):(p(),h(s,{key:0,index:e.basePath},{title:w((()=>[x(b(e.item.meta&&e.item.meta.title),1)])),default:w((()=>[E("i",{class:e.item.meta&&e.item.meta.icon},null,2)])),_:1},8,["index"]))],64))};var re={menuText:"#fff",menuActiveText:"#409EFF",menuBg:"#304156"},ce=i({components:{SidebarItem:ie},setup(){const e=c(),t=r();return{isCollapse:d((()=>e.state.layout.isCollapse)),menus:ne.options.routes,route:t,variables:D(re),logo:"./assets/logo.45f2adba.png",logo2:"data:image/png;base64,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"}}});const de={class:"sidebar"},me={class:"logo"};ce.render=function(e,t,o,a,A,n){const s=g("el-image"),l=g("sidebar-item"),i=g("el-menu");return p(),h("div",de,[E("div",me,[e.isCollapse?(p(),h(s,{key:1,style:{width:"64px",height:"64px"},src:e.logo2,fit:"fit"},null,8,["src"])):(p(),h(s,{key:0,style:{width:"200px",height:"64px"},src:e.logo,fit:"fit"},null,8,["src"]))]),E(i,{"background-color":e.variables.menuBg,"text-color":e.variables.menuText,"active-text-color":e.variables.menuActiveText,"default-active":e.route.path,class:"el-menu-vertical-demo menu",collapse:e.isCollapse,"unique-opened":!0,router:!0},{default:w((()=>[(p(!0),h(y,null,P(e.menus,(e=>(p(),h(l,{key:e.path,item:e,"base-path":e.path},null,8,["item","base-path"])))),128))])),_:1},8,["background-color","text-color","active-text-color","default-active","collapse"])])};var ue=i({setup(){const e=c(),t=d((()=>e.state.layout.tagViews)),o=r();let a=T(o.path);V((()=>o.path),((e,t)=>{a.value=e}));const A=K(),n=o=>{let a=t.value.findIndex((e=>e.path===o));a=a-1<0?1:a-1,A.push(t.value[a].path),e.dispatch("layout/remove_tagViews",o)};return{tagViews:t,tagViewsValue:a,handleTab:e=>{const t=e.props.name;A.push(t)},removeTab:n,closeCurrent:()=>{t.value.length>1&&n(o.path)},closeOther:()=>{console.log(a);const o=t.value.filter((e=>e.path!==a.value));for(let t=1;t<o.length;t++)e.dispatch("layout/remove_tagViews",o[t])},closeAll:()=>{const o=t.value;A.push(o[0].path);for(let t=1;t<o.length;t++)e.dispatch("layout/remove_tagViews",o[t])}}}});const ge=_();m("data-v-136cf0b2");const pe={class:"tab"},he={class:"right"},Ee=E("span",{class:"el-dropdown-link"},[E("i",{class:"el-icon-arrow-down"})],-1),Ce=x("关闭当前页"),fe=x("关闭其他页"),Ie=x("关闭所有页");u();const _e=ge(((e,t,o,a,A,n)=>{const s=g("el-tab-pane"),l=g("el-tabs"),i=g("el-dropdown-item"),r=g("el-dropdown-menu"),c=g("el-dropdown");return p(),h("div",pe,[E(l,{modelValue:e.tagViewsValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tagViewsValue=t),type:"card",closable:!1,onTabClick:e.handleTab,onTabRemove:e.removeTab},{default:ge((()=>[(p(!0),h(y,null,P(e.tagViews,((e,t)=>(p(),h(s,{closable:0!=t,key:e.path,label:e.meta.title,name:e.path},null,8,["closable","label","name"])))),128))])),_:1},8,["modelValue","onTabClick","onTabRemove"]),E("div",he,[E(c,null,{dropdown:ge((()=>[E(r,null,{default:ge((()=>[E(i,{onClick:e.closeCurrent},{default:ge((()=>[Ce])),_:1},8,["onClick"]),E(i,{onClick:e.closeOther},{default:ge((()=>[fe])),_:1},8,["onClick"]),E(i,{onClick:e.closeAll},{default:ge((()=>[Ie])),_:1},8,["onClick"])])),_:1})])),default:ge((()=>[Ee])),_:1})])])}));ue.render=_e,ue.__scopeId="data-v-136cf0b2";const ve=i({components:{HeadTags:ue,EditPass:Q((()=>$((()=>import("./EditPass.2aa1519d.js")),["./assets/EditPass.2aa1519d.js","./assets/vendor.f3ea224c.js","./assets/JSEncrypt.a6b5a714.js"])))},setup(){const e=c(),t=K(),o=r(),a=d((()=>e.state.layout.isCollapse));let A=T(!1);const n=le.get("user"),s=T(n.name);return{isCollapse:a,handleCollapse:t=>{e.dispatch("layout/set_isCollapse",t)},handleRefresh:()=>{e.dispatch("layout/remove_caches",o.name),t.replace("/redirect"+o.path)},dialogVisible:A,edit:()=>{A.value=!0},logOut:()=>{O.confirm("您确定要退出登录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t.replace("/login")})).catch((()=>{}))},name:s}}}),Be=_();m("data-v-8c3a954c");const we={class:"head"},xe={class:"left"},be={class:"fold"},ye={class:"refresh"},Pe={class:"right"},Se={class:"el-dropdown-link"},De=E("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),Te=x("修改密码"),Ve=x("退出登录"),Ke={key:0};u();const Qe=Be(((e,t,o,a,A,n)=>{const s=g("el-dropdown-item"),l=g("el-dropdown-menu"),i=g("el-dropdown"),r=g("head-tags"),c=g("edit-pass"),d=g("el-dialog"),m=R("dialogdrag");return p(),h(y,null,[E("div",we,[E("div",xe,[E("div",be,[M(E("i",{class:"el-icon-s-unfold",onClick:t[1]||(t[1]=t=>e.handleCollapse(!1))},null,512),[[k,e.isCollapse]]),M(E("i",{class:"el-icon-s-fold",onClick:t[2]||(t[2]=t=>e.handleCollapse(!0))},null,512),[[k,!e.isCollapse]])]),E("div",ye,[E("i",{class:"el-icon-refresh-right",onClick:t[3]||(t[3]=(...t)=>e.handleRefresh&&e.handleRefresh(...t))})])]),E("div",Pe,[E(i,{class:"drog"},{dropdown:Be((()=>[E(l,null,{default:Be((()=>[E(s,{onClick:e.edit},{default:Be((()=>[Te])),_:1},8,["onClick"]),E(s,{onClick:e.logOut},{default:Be((()=>[Ve])),_:1},8,["onClick"])])),_:1})])),default:Be((()=>[E("span",Se,[x(b(e.name),1),De])])),_:1})])]),E(r),e.dialogVisible?M((p(),h("div",Ke,[E(d,{title:"修改密码",modelValue:e.dialogVisible,"onUpdate:modelValue":t[5]||(t[5]=t=>e.dialogVisible=t),"close-on-click-modal":!1,width:"500px"},{default:Be((()=>[E(c,{dialogVisible:e.dialogVisible,"onUpdate:dialogVisible":t[4]||(t[4]=t=>e.dialogVisible=t),userId:1},null,8,["dialogVisible"])])),_:1},8,["modelValue"])],512)),[[m]]):S("",!0)],64)}));ve.render=Qe,ve.__scopeId="data-v-8c3a954c";var Oe=i({components:{AppMain:N,Sidebar:ce,HeaderView:ve},setup(){const e=r(),t=K(),o=c(),a=localStorage.getItem("homePath")||"";o.dispatch("layout/start_tagViews",{home:t.resolve(a),current:t.resolve("/"==e.path?a:e.path)}),V((()=>e.path),(()=>{e.meta&&e.meta.noShowTag||o.dispatch("layout/add_tagViews",e)}))}});const Re=_();m("data-v-7befeb75");const Me={class:"layout"},ke={class:"content"},Le={class:"content_main"};u();const je=Re(((e,t,o,a,A,n)=>{const s=g("Sidebar"),l=g("header-view"),i=g("app-main");return p(),h("div",Me,[E(s),E("div",ke,[E(l),E("div",Le,[E(i)])])])}));Oe.render=je,Oe.__scopeId="data-v-7befeb75";var Ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Oe}),He=i({components:{Layout:Oe}});He.render=function(e,t,o,a,A,n){const s=g("router-view");return p(),h(s)};var Je={namespaced:!0,state:{name:"storeName"},mutations:{SET_NAME:(e,t)=>{e.name=t}},actions:{setName:({commit:e},t)=>{e("SET_NAME",t)}}},Ye=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Je});const ze={isCollapse:!1,tagViews:[],caches:[]},Fe={SET_ISCOLLAPSE:(e,t)=>{e.isCollapse=t},ADD_TAGVIEWS:(e,t)=>{console.log(t);if(e.tagViews.some((e=>e.path===t.path)))return!1;e.tagViews.push(l({},t))},REMOVE_TAGVIEWS:(e,t)=>{const o=e.tagViews.findIndex((e=>e.path===t));e.tagViews.splice(o,1)},CLEAR_TAGVIEWS:()=>{ze.tagViews=[]},ADD_CACHES:(e,t)=>{e.caches.some((e=>e===t))||e.caches.push(t)},REMOVE_CACHES:(e,t)=>{const o=e.caches.findIndex((e=>e===t));e.caches.splice(o,1)}};var Ne={namespaced:!0,state:ze,mutations:Fe,actions:{set_isCollapse:({commit:e},t)=>{e("SET_ISCOLLAPSE",t)},add_tagViews:({commit:e},t)=>{e("ADD_TAGVIEWS",t),e("ADD_CACHES",t.name)},remove_tagViews:({commit:e},t)=>{e("REMOVE_TAGVIEWS",t),e("REMOVE_CACHES",t.name)},start_tagViews:({commit:e,dispatch:t},o)=>{e("CLEAR_TAGVIEWS"),t("add_tagViews",o.home),o.current&&t("add_tagViews",o.current)},add_caches:({commit:e},t)=>{e("ADD_CACHES",t)},remove_caches:({commit:e},t)=>{e("REMOVE_CACHES",t)}}},We=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ne});function Xe(){return le.get("token")}const Ue=L.create({baseURL:"http://192.168.2.105:5000",timeout:3e4});let Ze;function qe(e){return new Promise((function(e){e([])}))}function $e(){return Ue({url:"/user/roles",method:"get"})}function et(e){return Ue({url:"/user/updateRole",method:"put",data:e})}function tt(e){return Ue({url:"/user/updateUser",method:"put",data:e})}function ot(e){return Ue({url:"/user/deleteUser",method:"delete",data:e})}Ue.interceptors.request.use((e=>(e.isLoading&&(Ze=j.service({text:"正在请求数据"})),Xe()&&(e.headers.token=Xe()),e)),(e=>(console.log(e),Promise.reject(e)))),Ue.interceptors.response.use((e=>{Ze&&Ze.close();const t=e.data;return 0!==t.code?(-1===t.code?O.confirm("您已登录超时，请重新登录！","确认退出",{confirmButtonText:"重新登录",type:"warning"}).then((()=>{localStorage.removeItem("token"),localStorage.removeItem("accountId"),ne.push("/login")})):G({message:t.msg||"Error",type:"error",duration:5e3}),Promise.reject(new Error(t.msg||"Error"))):t}),(e=>(Ze&&Ze.close(),console.log("err"+e),G({message:e.message,type:"error",duration:5e3}),Promise.reject(e))));var at={namespaced:!0,state:{roles:[]},mutations:{SET_ROLES:(e,t)=>{e.roles=t}},actions:{setRoles:async({commit:e},t)=>{const o=await{data:"admin"};let a=[];a="admin"==o.data?["admin"]:o.data.split(",").map((e=>Number(e))),e("SET_ROLES",a)}}};const At={"./modules/home.ts":Ye,"./modules/layout.ts":We,"./modules/user.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:at})},nt=H({modules:Object.keys(At).reduce(((e,t)=>{const o=t.replace(/^\.\/modules\/(.*)\.\w+$/,"$1"),a=At[t];return e[o]=a.default,e}),{})}),st=(e,t)=>{const o=[];return e.forEach((e=>{const a=l({},e);lt(e.meta.roles,t)&&(a.children&&(a.children=st(a.children,t)),o.push(a))})),o},lt=(e,t)=>e.some((e=>t.includes(e)));le.set("router",!0);const it=["/login"];J.configure({showSpinner:!1}),ne.beforeEach((async(e,a,A)=>{if(J.start(),it.includes(e.path))return A();const n=le.get("user");if(n||ne.push("/login"),le.get("router")){await nt.dispatch("user/setRoles",n.id);const a=nt.state.user.roles;let i=[];i="admin"==a[0]?se:st([...se],a);for(let e in i)ne.addRoute(i[e]);ne.options.routes=ne.options.routes.concat(i),le.set("router",!1),A((s=l({},e),t(s,o({replace:!0})))),J.done()}else A(),J.done();var s})),ne.afterEach((()=>{J.done()}));const rt=Y(He);rt.use(z,{locale:F}),rt.use(ne),rt.use(nt),rt.use(((e,t)=>{e.directive("dialogdrag",{mounted(e,t){const o=document.documentElement.clientWidth,a=document.documentElement.clientHeight;let A={x:o/4,y:15*a/100};console.log(e),console.log(e.firstElementChild);const n=e.firstElementChild.firstElementChild;n.style.marginTop=A.y+"px",n.style.marginLeft=A.x+"px";let s={x:0,y:0},l={x:0,y:0};n.onmousedown=e=>{"15vh"===n.style.marginTop&&(A.y=15*a/100),s.x=e.clientX,s.y=e.clientY,n.style.cursor="move"},n.onmousemove=e=>{0!==s.x&&(l.x=e.clientX-s.x,l.y=e.clientY-s.y,n.style.marginLeft=A.x+l.x+"px",n.style.marginTop=A.y+l.y+"px")},n.onmouseup=e=>{l.x=e.clientX-s.x,l.y=e.clientY-s.y,A.x+=l.x,A.y+=l.y,n.style.cursor="",n.style.marginLeft=A.x+"px",n.style.marginTop=A.y+"px",s.x=0}}})})),rt.mount("#app");export{$ as _,$e as a,tt as b,le as c,ot as d,qe as g,Ue as s,et as u};
